{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,WAYA,IATA,IAAMC,EAAO,CACXC,OAAQC,SAASC,cAAc,SAC/BC,MAAOF,SAASC,cAAc,uBAC9BE,KAAMH,SAASC,cAAc,sBAC7BG,OAAQJ,SAASC,cAAc,wBAC/BI,OAAQL,SAASC,cAAc,yBAC/BK,UAAWN,SAASO,iBAAiB,yBAG9BC,EAAI,EAAGA,EAAIV,EAAKQ,UAAUG,OAAQD,GAAK,EAC9CV,EAAKQ,UAAUE,GAAGE,UAAUC,IAAI,cAElCb,EAAKO,OAAOK,UAAUC,IAAI,mBAE1Bb,EAAKC,OAAOa,iBAAiB,UAE7B,SAA6BC,G,kBA0B7B,IAAuBC,EAAUZ,GAAVY,EAfLC,EAeeb,EAfZc,EAgBZ,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACaC,KAAKC,SAAW,GAGpCJ,EAAQ,CAAEJ,WAAUZ,UAEpBiB,EAAO,CAAEL,WAAUZ,S,GAEpBA,E,KAxBAqB,MAAK,SAAAC,GAAWA,EAARV,S,IAAUZ,EAAKsB,EAALtB,MACjBuB,EAAA7B,GAAS8B,OAAOC,QAAQ,uBAAiCC,OAARb,EAAE,QAAYa,OAAN1B,EAAM,O,IAIhE2B,OAAM,SAAAL,GAAWA,EAARV,S,IAAUZ,EAAKsB,EAALtB,MAClBuB,EAAA7B,GAAS8B,OAAOI,QAAQ,sBAA8BF,OAARb,EAAE,QAAYa,OAAN1B,EAAM,O,IAGhEc,GAASb,EAmBb,SAAe4B,GACbX,YAAW,WACTtB,EAAKC,OAAOiC,QACZlC,EAAKO,OAAO4B,UAAW,C,GACtBF,E,CAtBDG,CAAMH,E,EArBRjC,EAAKO,OAAO4B,UAAW,EACvBpB,EAAEsB,iBAQF,IANA,IAAInB,EAAQoB,OAAOtC,EAAKI,MAAMmC,OACxBlC,EAAOiC,OAAOtC,EAAKK,KAAKkC,OACxBjC,EAASgC,OAAOtC,EAAKM,OAAOiC,OAE5BN,EAAUf,EAAQb,EAAOC,EAEtBkC,EAAI,EAAGA,GAAKlC,EAAQkC,GAAK,EAACC,EAAAD,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  formEl: document.querySelector('.form'),\n  delay: document.querySelector('input[name=\"delay\"]'),\n  step: document.querySelector('input[name=\"step\"]'),\n  amount: document.querySelector('input[name=\"amount\"]'),\n  button: document.querySelector('button[type=\"submit\"]'),\n  formInput: document.querySelectorAll('input[type=\"number\"]'),\n};\n\nfor (let i = 0; i < refs.formInput.length; i += 1) {\n  refs.formInput[i].classList.add('form-input');\n}\nrefs.button.classList.add('create-promises');\n\nrefs.formEl.addEventListener('submit', submitCreatePromise);\n\nfunction submitCreatePromise(e) {\n  refs.button.disabled = true;\n  e.preventDefault();\n\n  let delay = Number(refs.delay.value);\n  const step = Number(refs.step.value);\n  const amount = Number(refs.amount.value);\n\n  const timeOut = delay + step * amount;\n\n  for (let i = 1; i <= amount; i += 1) {\n    createPromise(i, delay)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(`✅ Fulfilled promise ${i} in ${delay} ms`);\n        // console.log(delay);\n      })\n\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${i} in ${delay} ms`);\n      });\n\n    delay += step;\n    reset(timeOut);\n  }\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nfunction reset(timeOut) {\n  setTimeout(() => {\n    refs.formEl.reset();\n    refs.button.disabled = false;\n  }, timeOut);\n}\n"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$refs","formEl","document","querySelector","delay","step","amount","button","formInput","querySelectorAll","$ce04d3a99e08e73b$var$i","length","classList","add","addEventListener","e","position","i1","delay1","Promise","resolve","reject","setTimeout","Math","random","then","param","$parcel$interopDefault","Notify","success","concat","catch","failure","timeOut","reset","disabled","$ce04d3a99e08e73b$var$reset","preventDefault","Number","value","i11","_loop"],"version":3,"file":"03-promises.c5e748e0.js.map"}